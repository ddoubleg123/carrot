:root{--tp-blue:#0A5AFF;--tp-orange:#FF6A00;--tp-ink:#0B0B0F;--tp-surface:#FFFFFF;--tp-border:#E6E8EC}
html,body{height:100%}
body{background:#0B0B0F;color:#fff;font-family:Inter,system-ui,-apple-system,Segoe UI,Roboto,Ubuntu,Cantarell,Noto Sans,sans-serif}
.main{display:flex;min-height:100vh}
.sidebar{width:260px;border-right:1px solid rgba(255,255,255,.08);padding:16px}
.room{display:flex;align-items:center;gap:10px;padding:8px;border-radius:10px;cursor:pointer}
.room.active{background:rgba(255,255,255,.06)}
.content{flex:1;padding:24px}
.card{border:1px solid rgba(255,255,255,.08);background:rgba(255,255,255,.03);border-radius:16px}
.msg-list{flex:1;overflow-y:auto;padding:16px;display:flex;flex-direction:column;gap:10px}
.msg{display:flex;gap:10px}
.msg .avatar{height:32px;width:32px;border-radius:999px;display:grid;place-items:center;font-weight:700;background:rgba(255,255,255,.12)}
.msg .bubble{background:rgba(255,255,255,.06);border:1px solid rgba(255,255,255,.12);border-radius:12px;padding:10px;max-width:70ch}
.msg.self{flex-direction:row-reverse}
.msg.self .bubble{background:var(--tp-blue);border-color:rgba(255,255,255,.2);color:#fff}
.msg.self .avatar{background:rgba(255,255,255,.2)}
.msg.first .bubble{border-top-left-radius:12px;border-top-right-radius:12px}
.msg.middle .bubble{border-top-left-radius:6px;border-top-right-radius:6px;border-bottom-left-radius:6px;border-bottom-right-radius:6px}
.msg.last .bubble{border-bottom-left-radius:12px;border-bottom-right-radius:12px}
.unread-sep{display:flex;align-items:center;gap:8px;margin:8px 0;color:rgba(255,255,255,.7);font-size:12px}
.unread-sep::before,.unread-sep::after{content:"";flex:1;height:1px;background:rgba(255,255,255,.15)}
.composer{display:flex;gap:8px;padding:12px;border-top:1px solid rgba(255,255,255,.08)}
.input{flex:1;background:rgba(255,255,255,.06);color:#fff;border:1px solid rgba(255,255,255,.12);border-radius:10px;padding:10px}
.btn{background:var(--tp-blue);border:none;color:#fff;border-radius:10px;padding:10px 14px;font-weight:600;cursor:pointer}
.btn.secondary{background:rgba(255,255,255,.08)}
.typing{color:rgba(255,255,255,.6);font-size:12px;padding:0 16px 12px}
.unread{margin-left:auto;background:var(--tp-orange);color:#000;font-weight:700;border-radius:999px;min-width:20px;height:20px;display:grid;place-items:center;font-size:12px}
.room-item{display:flex;align-items:center;gap:8px;padding:8px 10px;border-radius:10px;cursor:pointer;color:#fff;text-decoration:none}
.room-item:hover{background:rgba(255,255,255,.06)}
.room-item.active{background:rgba(255,255,255,.10);box-shadow:inset 0 0 0 1px rgba(255,255,255,.12)}

/* Modal */
.tp-modal{position:fixed;inset:0;display:none}
.tp-modal:not(.hidden){display:block}
.tp-modal__backdrop{position:absolute;inset:0;background:rgba(0,0,0,.5)}
.tp-modal__panel{position:relative;margin:10vh auto 0;max-width:420px;background:#111318;color:#fff;border:1px solid rgba(255,255,255,.12);border-radius:12px;padding:16px;box-shadow:0 4px 16px rgba(0,0,0,.3)}

/* Message actions & reactions */
.msg{position:relative}
.actions{position:absolute;right:0;top:-22px;display:none;gap:6px}
.msg:hover .actions{display:flex}
.chip{background:rgba(255,255,255,.08);border:1px solid rgba(255,255,255,.14);border-radius:999px;padding:2px 8px;font-size:12px;cursor:pointer}
.rx{display:flex;gap:6px;margin-top:6px}
.rx .chip.active{background:var(--tp-blue);color:#fff;border-color:transparent}

/* Thread pane */
#threadPane{position:sticky;top:0;height:100dvh;width:320px;border-left:1px solid rgba(255,255,255,.1);background:rgba(255,255,255,.03);padding:12px;display:none}
#threadPane.open{display:block}
#threadHeader{font-weight:600;margin-bottom:8px}
#threadMessages{display:flex;flex-direction:column;gap:8px;overflow-y:auto;height:calc(100% - 84px);padding-right:4px}
#threadComposer{display:flex;gap:8px;margin-top:8px}
